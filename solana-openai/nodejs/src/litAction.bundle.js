(async()=>{let e=await LitActions.runOnce({waitForResponse:!0,name:"Lit Actions Test"},async()=>{let t=[{role:"system",content:"You are an AI assistant that helps people make informed blockchain trading decisions. Only answer with a single sentence."},{role:"user",content:`${prompt}`}],s=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${apiKey}`},body:JSON.stringify({model:"gpt-4o-mini",messages:t})});return s=await s.json(),s.choices[0].message.content.replace(/\n/g," ").replace(/\*\*/g,"").trim()});console.log("OpenAI Response: ",e),await LitActions.signEcdsa({toSign:ethers.utils.arrayify(ethers.utils.keccak256(ethers.utils.toUtf8Bytes(e))),publicKey,sigName:"signedOpenAiResponse"}),LitActions.setResponse({response:`Signed message: ${e}`})})();
